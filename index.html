<!DOCTYPE html>
<html>
<head>
    <meta http-equiv='Content-Type' content='text/html; charset=utf-8'/>
    <link rel="icon" href="dist/favicon.ico"/>
    <title>躺平计算器</title>
    <link rel="stylesheet" href="dist/css/bootstrap.min.css">
    <style>
  body{font-family:Arial,sans-serif;margin:20px;}label{font-weight:bold;}.negative{background-color:#c2c2c2;}.th-info{font-size:60%;font-weight:100;}#monthlyExpensesDisplay{font-size:50%;color:gray;}.floating-text{position:absolute;top:10px;right:10px;background-color:rgba(255,255,255,0.8);padding:5px 10px;border-radius:5px;pointer-events:none;z-index:100;font-size:60%;color:gray;font-weight:100;}.interest-cell{color:rgba(31,119,180,1);}.annual-expenses-cell{color:rgba(44,160,44,1);}.principal-cell{color:rgba(214,39,40,1);}.alert-info{font-size:80%;}
    </style>
    <script src="dist/chart.min.js"></script>
</head>
<body>
<h2 id="pageTitle"></h2>

<div class="row">
    <div class="col-md-2 form-group">
        <label for="annualInterestRate">年化利率%:</label>
        <input type="number" id="annualInterestRate" class="form-control" min="0" max="1000" step="0.01" value="2.000"/>
    </div>
    <div class="col-md-3 form-group">
        <label for="principal">本金:</label>
        <input type="number" id="principal" class="form-control" min="0" step="100000" value="2000000"/>
    </div>
    <div class="col-md-2 form-group">
        <label for="annualExpenses">当前年消费:</label>
        <input type="number" id="annualExpenses" class="form-control" min="0" max="10000000" step="5000" value="60000"/>
        <span id="monthlyExpensesDisplay" class="text-muted"></span>
    </div>
    <div class="col-md-3 form-group">
        <label for="inflationRate">通胀率%:</label>
        <div class="input-group">
            <input type="number" id="inflationRate" class="form-control" min="0" max="1000" step="0.01" value="2.229"/>
            <div class="input-group-append">
                <button class="btn btn-outline-secondary" type="button" onclick="clearInflationRate()">X</button>
            </div>
        </div>
    </div>
    <div class="col-md-2 form-group">
        <label><br></label>
        <div class="input-group">
            <button class="btn btn-success" onclick="calculateInterest()">计算</button>
        </div>
    </div>
</div>


<div style="position: relative;">
    <canvas id="lineChart" width="400" height="200"></canvas>
    <div id="floatingText" class="floating-text"></div>
</div>

<table class="table table-hover mt-4">
    <thead class="thead-dark">
    <tr>
        <th>年数</th>
        <th>年利息<span class="th-info">(本金×年化利率)</span></th>
        <th>年消费<span class="th-info">(通胀率+1)×上年消费</span></th>
        <th>本金<span class="th-info">(上年本金+年利息-年消费)</span></th>
    </tr>
    </thead>
    <tbody id="resultTable">
    </tbody>
</table>

<div class="alert alert-info" role="alert">
    中国近十年通胀率平均在2.229%左右——<a href="https://www.baidu.com/s?wd=中国近十年通胀率" target="_blank">https://www.baidu.com/s?wd=中国近十年通胀率</a>
</div>

<script>
const _0x1260=['push','月均:','annualExpenses','0\x20≤\x20本金（如:2000000）','line','getElementById','toFixed','innerHTML','classList','insertRow','negative','\x20通胀率:','年利息','getContext','max','destroy','100+','rgba(214,\x2039,\x2040,\x201)','monthlyExpensesDisplay','0\x20≤\x20年化利率\x20≤\x201000（如:1.693）','\x20当前年消费:','text-center','add','rgba(31,\x20119,\x20180,\x201)','躺平计算器（还能活','toString','onload','value','principal','annualInterestRate','insertCell','%\x20本金:','年化:','0.000','resultTable','floatingText'];const _0x2a7a=function(_0x12601f,_0x2a7a66){_0x12601f=_0x12601f-0x0;let _0xe9a14b=_0x1260[_0x12601f];return _0xe9a14b;};function clearInflationRate(){document[_0x2a7a('0x5')]('inflationRate')['value']=_0x2a7a('0x21');}function updateMonthlyExpensesDisplay(){const _0x4222b8=document[_0x2a7a('0x5')](_0x2a7a('0x2'));const _0x21c702=document['getElementById'](_0x2a7a('0x12'));const _0x125832=parseFloat(_0x4222b8[_0x2a7a('0x1b')]);const _0x3a47c7=(_0x125832/0xc)['toFixed'](0x2);_0x21c702['textContent']=_0x2a7a('0x1')+_0x3a47c7;}document[_0x2a7a('0x5')](_0x2a7a('0x2'))['addEventListener']('input',updateMonthlyExpensesDisplay);updateMonthlyExpensesDisplay();let lineChart;function calculateInterest(){let _0x5ace71=parseFloat(document['getElementById'](_0x2a7a('0x1c'))['value']);let _0x2d46c7=parseFloat(document[_0x2a7a('0x5')](_0x2a7a('0x1d'))[_0x2a7a('0x1b')]);let _0x394d22=parseFloat(document['getElementById']('annualExpenses')['value']);let _0x458557=parseFloat(document[_0x2a7a('0x5')]('inflationRate')['value']);let _0x9e14f7=0x1;let _0x314812=0x65;let _0x4f990a=_0x2a7a('0x20')+_0x2d46c7+_0x2a7a('0x1f')+_0x5ace71+_0x2a7a('0x14')+_0x394d22+_0x2a7a('0xb')+_0x458557+'%';if(isNaN(_0x2d46c7)||_0x2d46c7<0x0||_0x2d46c7>0x3e8){alert(_0x2a7a('0x13'));return;}_0x2d46c7=_0x2d46c7/0x64;if(isNaN(_0x5ace71)||_0x5ace71<0x0){alert(_0x2a7a('0x3'));return;}if(isNaN(_0x394d22)||_0x394d22<0x0||_0x394d22>0x989680){alert('0\x20≤\x20当前年消费\x20≤\x2010000000（如:600000）');return;}_0x394d22=_0x394d22*-0x1;if(isNaN(_0x458557)||_0x458557<0x0||_0x458557>0x3e8){alert('0\x20≤\x20通胀率\x20≤\x201000（如:2.2229）');return;}_0x458557=_0x458557/0x64;let _0x30f751=document['getElementById'](_0x2a7a('0x22'));let _0x44e54f=document[_0x2a7a('0x5')]('pageTitle');let _0x428055=document['getElementById'](_0x2a7a('0x23'));_0x30f751['innerHTML']='';let _0x1b9bfc=[];let _0x436126=[];let _0x436a94=[];let _0x3b40b3=[];let _0x45ebc5=-0x1;let _0x12f9f6=0x0;let _0x2f20c1;while(_0x314812>0x0){_0x2f20c1=_0x5ace71*_0x2d46c7;_0x394d22=_0x394d22*_0x458557+_0x394d22;let _0x1c1b20=_0x394d22*-0x1>_0x5ace71;_0x5ace71=_0x5ace71+_0x2f20c1+_0x394d22;_0x2f20c1=Math['max'](_0x2f20c1,0x0);_0x5ace71=Math[_0x2a7a('0xe')](_0x5ace71,0x0);let _0x30be02=_0x30f751[_0x2a7a('0x9')]();let _0x44ffcb=_0x30be02['insertCell'](0x0);let _0x10de2d=_0x30be02['insertCell'](0x1);let _0x20e1cf=_0x30be02[_0x2a7a('0x1e')](0x2);let _0x12a0b8=_0x30be02[_0x2a7a('0x1e')](0x3);_0x10de2d['classList'][_0x2a7a('0x16')]('interest-cell',_0x2a7a('0x15'));_0x20e1cf['classList']['add']('annual-expenses-cell','text-center');_0x12a0b8['classList'][_0x2a7a('0x16')]('principal-cell',_0x2a7a('0x15'));_0x44ffcb[_0x2a7a('0x7')]=_0x9e14f7[_0x2a7a('0x19')]();_0x10de2d['innerHTML']=_0x2f20c1[_0x2a7a('0x6')](0x2);if(_0x1c1b20){_0x20e1cf['innerHTML']='×';}else{_0x20e1cf[_0x2a7a('0x7')]=_0x394d22[_0x2a7a('0x6')](0x2);_0x3b40b3[_0x2a7a('0x0')](_0x394d22['toFixed'](0x2));}_0x12a0b8[_0x2a7a('0x7')]=_0x5ace71['toFixed'](0x2);_0x1b9bfc['push'](_0x9e14f7);_0x436126[_0x2a7a('0x0')](_0x2f20c1['toFixed'](0x2));_0x436a94['push'](_0x5ace71[_0x2a7a('0x6')](0x2));if(_0x45ebc5==-0x1&&_0x5ace71==0x0){_0x45ebc5=_0x9e14f7-0x1;}if(_0x5ace71<=0x0){_0x30be02[_0x2a7a('0x8')][_0x2a7a('0x16')](_0x2a7a('0xa'));_0x12f9f6++;}if(_0x12f9f6>0x3||_0x314812==0x1){_0x44ffcb['innerHTML']='⋮';_0x10de2d['innerHTML']='⋮';_0x20e1cf[_0x2a7a('0x7')]='⋮';_0x12a0b8[_0x2a7a('0x7')]='⋮';}if(_0x12f9f6>0x3){break;}_0x9e14f7++;_0x314812--;}_0x44e54f['innerHTML']=_0x2a7a('0x18')+(_0x45ebc5!=-0x1?_0x45ebc5:_0x2a7a('0x10'))+'年）';_0x428055[_0x2a7a('0x7')]=_0x4f990a;drawLineChart(_0x1b9bfc,_0x436126,_0x436a94,_0x3b40b3);}function drawLineChart(_0xacbca2,_0x23dc9d,_0x267375,_0x5eac02){if(lineChart){lineChart[_0x2a7a('0xf')]();}lineChart=new Chart(document[_0x2a7a('0x5')]('lineChart')[_0x2a7a('0xd')]('2d'),{'type':_0x2a7a('0x4'),'data':{'labels':_0xacbca2,'datasets':[{'label':_0x2a7a('0xc'),'data':_0x23dc9d,'borderColor':_0x2a7a('0x17'),'backgroundColor':'rgba(31,\x20119,\x20180,\x200.2)','fill':!![]},{'label':'消费','data':_0x5eac02,'borderColor':'rgba(44,\x20160,\x2044,\x201)','backgroundColor':'rgba(44,\x20160,\x2044,\x200.2)','fill':!![]},{'label':'本金','data':_0x267375,'borderColor':_0x2a7a('0x11'),'backgroundColor':'rgba(214,\x2039,\x2040,\x200.2)','fill':!![]}]}});}window[_0x2a7a('0x1a')]=function(){calculateInterest();};
</script>
</body>
</html>
