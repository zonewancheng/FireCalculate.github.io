<!DOCTYPE html>
<html>
<head>
    <meta http-equiv='Content-Type' content='text/html; charset=utf-8'/>
    <link rel="icon" href="dist/favicon.ico"/>
    <title>躺平计算器</title>
    <link rel="stylesheet" href="dist/css/bootstrap.min.css">
    <style>
body{font-family:Arial,sans-serif;margin:20px;}label{font-weight:bold;}.negative{background-color:#c2c2c2;}.th-info{font-size:60%;font-weight:100;}#monthlyExpensesDisplay{font-size:50%;color:gray;}.floating-text{position:absolute;top:33px;right:10px;background-color:rgba(255,255,255,0.8);padding:5px 10px;border-radius:5px;pointer-events:none;z-index:100;font-size:60%;color:#555555;font-weight:100;}.interest-cell{color:rgba(31,119,180,1);}.annual-expenses-cell{color:rgba(44,160,44,1);}.principal-cell{color:rgba(214,39,40,1);}.alert-info{font-size:80%;}
    </style>
    <script src="dist/chart.min.js"></script>
</head>
<body>
<h2 id="pageTitle"></h2>

<div class="row">
    <div class="col-md-2 form-group">
        <label for="annualInterestRate">年化利率%:</label>
        <input type="number" id="annualInterestRate" class="form-control" min="0" max="1000" step="0.01" value="2.000"/>
    </div>
    <div class="col-md-3 form-group">
        <label for="principal">本金:</label>
        <input type="number" id="principal" class="form-control" min="0" step="100000" value="2000000"/>
    </div>
    <div class="col-md-2 form-group">
        <label for="annualExpenses">当前年消费:</label>
        <input type="number" id="annualExpenses" class="form-control" min="0" max="10000000" step="5000" value="60000"/>
        <span id="monthlyExpensesDisplay" class="text-muted"></span>
    </div>
    <div class="col-md-3 form-group">
        <label for="inflationRate">通胀率%:</label>
        <div class="input-group">
            <input type="number" id="inflationRate" class="form-control" min="0" max="1000" step="0.01" value="2.229"/>
            <div class="input-group-append">
                <button class="btn btn-outline-secondary" type="button" onclick="toggleInflationRate()">
                    <span id="inflationRateIcon">×</span>
                </button>
            </div>
        </div>
    </div>
    <div class="col-md-2 form-group">
        <label><br></label>
        <div class="input-group">
            <button class="btn btn-success" onclick="calculateInterest()">计算</button>
        </div>
    </div>
</div>


<div style="position: relative;">
    <canvas id="lineChart" width="400" height="200"></canvas>
    <div id="floatingText" class="floating-text"></div>
</div>

<table class="table table-hover mt-4">
    <thead class="thead-dark">
    <tr>
        <th class="text-center">年数</th>
        <th class="text-center">年利息<span class="th-info">(本金×年化利率)</span></th>
        <th class="text-center">年消费<span class="th-info">(1+通胀率)×上年消费</span></th>
        <th class="text-center">本金<span class="th-info">(上年本金+年利息-年消费)</span></th>
    </tr>
    </thead>
    <tbody id="resultTable">
    </tbody>
</table>

<div class="alert alert-info" role="alert">
    中国近十年通胀率平均在2.229%左右——<a href="https://www.baidu.com/s?wd=中国近十年通胀率" target="_blank">https://www.baidu.com/s?wd=中国近十年通胀率</a>
</div>

<script>
const _0x2923=['push','月均:','insertCell','innerHTML','pageTitle','onload','rgba(44,\x20160,\x2044,\x201)','toString','0\x20≤\x20年化利率\x20≤\x201000（如:1.693）','inflationRate','add','value','0\x20≤\x20本金（如:2000000）','interest-cell','getElementById','textContent','addEventListener','destroy','toFixed','rgba(214,\x2039,\x2040,\x201)','classList','principal-cell','line','年化:','text-center','annual-expenses-cell','rgba(31,\x20119,\x20180,\x200.2)','resultTable'];const _0x18e0=function(_0x292312,_0x18e0ac){_0x292312=_0x292312-0x0;let _0x2655eb=_0x2923[_0x292312];return _0x2655eb;};function toggleInflationRate(){const _0x22d090=document[_0x18e0('0xe')](_0x18e0('0x9'));_0x22d090[_0x18e0('0xb')]='0';calculateInterest();}function updateMonthlyExpensesDisplay(){const _0x315bef=document[_0x18e0('0xe')]('annualExpenses');const _0x2e8ca2=document['getElementById']('monthlyExpensesDisplay');const _0x1666b7=parseFloat(_0x315bef['value']);const _0x50b527=(_0x1666b7/0xc)['toFixed'](0x2);_0x2e8ca2[_0x18e0('0xf')]=_0x18e0('0x1')+_0x50b527;}document[_0x18e0('0xe')]('annualExpenses')[_0x18e0('0x10')]('input',updateMonthlyExpensesDisplay);updateMonthlyExpensesDisplay();let lineChart;function calculateInterest(){let _0x5206ef=parseFloat(document[_0x18e0('0xe')]('principal')[_0x18e0('0xb')]);let _0x13fea8=parseFloat(document[_0x18e0('0xe')]('annualInterestRate')[_0x18e0('0xb')]);let _0x533dfa=parseFloat(document['getElementById']('annualExpenses')['value']);let _0x23911a=parseFloat(document['getElementById']('inflationRate')['value']);let _0x45ae4f=0x1;let _0x5241bd=0x65;let _0x2ca657=_0x18e0('0x17')+_0x13fea8+'%\x20本金:'+_0x5206ef+'\x20当前年消费:'+_0x533dfa+'\x20通胀率:'+_0x23911a+'%';if(isNaN(_0x13fea8)||_0x13fea8<0x0||_0x13fea8>0x3e8){alert(_0x18e0('0x8'));return;}if(isNaN(_0x5206ef)||_0x5206ef<0x0){alert(_0x18e0('0xc'));return;}if(isNaN(_0x533dfa)||_0x533dfa<0x0||_0x533dfa>0x989680){alert('0\x20≤\x20当前年消费\x20≤\x2010000000（如:600000）');return;}_0x533dfa=_0x533dfa*-0x1;if(isNaN(_0x23911a)||_0x23911a<0x0||_0x23911a>0x3e8){alert('0\x20≤\x20通胀率\x20≤\x201000（如:2.2229）');return;}let _0x12711d=document['getElementById'](_0x18e0('0x1b'));let _0x2b4d21=document['getElementById'](_0x18e0('0x4'));let _0x59c673=document[_0x18e0('0xe')]('floatingText');_0x12711d[_0x18e0('0x3')]='';let _0x5db277=[];let _0x2c9b33=[];let _0x123363=[];let _0x49ff9c=[];let _0x5a2e2a=-0x1;let _0x333668=0x0;let _0x289905;while(_0x5241bd>0x0){_0x289905=_0x5206ef*(_0x13fea8/0x64);_0x533dfa=(0x1+_0x23911a/0x64)*_0x533dfa;let _0x2f10f3=_0x533dfa*-0x1>_0x5206ef;_0x5206ef=_0x5206ef+_0x289905+_0x533dfa;_0x289905=Math['max'](_0x289905,0x0);_0x5206ef=Math['max'](_0x5206ef,0x0);let _0xf223e2=_0x12711d['insertRow']();let _0x4b2bf0=_0xf223e2[_0x18e0('0x2')](0x0);let _0x1448a8=_0xf223e2[_0x18e0('0x2')](0x1);let _0x3fbe93=_0xf223e2['insertCell'](0x2);let _0x135f6c=_0xf223e2[_0x18e0('0x2')](0x3);_0x4b2bf0[_0x18e0('0x14')]['add'](_0x18e0('0x18'));_0x1448a8['classList']['add'](_0x18e0('0xd'),'text-center');_0x3fbe93[_0x18e0('0x14')][_0x18e0('0xa')](_0x18e0('0x19'),'text-center');_0x135f6c[_0x18e0('0x14')]['add'](_0x18e0('0x15'),'text-center');_0x4b2bf0[_0x18e0('0x3')]=_0x45ae4f[_0x18e0('0x7')]();_0x1448a8['innerHTML']=_0x289905[_0x18e0('0x12')](0x2);if(_0x2f10f3){_0x3fbe93[_0x18e0('0x3')]='×';}else{_0x3fbe93[_0x18e0('0x3')]=_0x533dfa['toFixed'](0x2);_0x49ff9c[_0x18e0('0x0')](_0x533dfa['toFixed'](0x2));}_0x135f6c['innerHTML']=_0x5206ef['toFixed'](0x2);_0x5db277[_0x18e0('0x0')](_0x45ae4f);_0x2c9b33[_0x18e0('0x0')](_0x289905[_0x18e0('0x12')](0x2));_0x123363[_0x18e0('0x0')](_0x5206ef[_0x18e0('0x12')](0x2));if(_0x5a2e2a==-0x1&&_0x5206ef==0x0){_0x5a2e2a=_0x45ae4f-0x1;}if(_0x5206ef<=0x0){_0xf223e2['classList']['add']('negative');_0x333668++;}if(_0x333668>0x3||_0x5241bd==0x1){_0x4b2bf0['innerHTML']='⋮';_0x1448a8['innerHTML']='⋮';_0x3fbe93['innerHTML']='⋮';_0x135f6c[_0x18e0('0x3')]='⋮';}if(_0x333668>0x3){break;}_0x45ae4f++;_0x5241bd--;}_0x2b4d21['innerHTML']='躺平计算器（还能活'+(_0x5a2e2a!=-0x1?_0x5a2e2a:'100+')+'年）';_0x59c673[_0x18e0('0x3')]=_0x2ca657;drawLineChart(_0x5db277,_0x2c9b33,_0x123363,_0x49ff9c);}function drawLineChart(_0x16d0ad,_0x20b7be,_0x45e00c,_0x58d0db){if(lineChart){lineChart[_0x18e0('0x11')]();}lineChart=new Chart(document[_0x18e0('0xe')]('lineChart')['getContext']('2d'),{'type':_0x18e0('0x16'),'data':{'labels':_0x16d0ad,'datasets':[{'label':'年利息','data':_0x20b7be,'borderColor':'rgba(31,\x20119,\x20180,\x201)','backgroundColor':_0x18e0('0x1a'),'fill':!![]},{'label':'消费','data':_0x58d0db,'borderColor':_0x18e0('0x6'),'backgroundColor':'rgba(44,\x20160,\x2044,\x200.2)','fill':!![]},{'label':'本金','data':_0x45e00c,'borderColor':_0x18e0('0x13'),'backgroundColor':'rgba(214,\x2039,\x2040,\x200.2)','fill':!![]}]}});}window[_0x18e0('0x5')]=function(){calculateInterest();};
</script>
</body>
</html>
